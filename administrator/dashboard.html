<?php 
    $page = "dashboard";
    include("header.html");
    if (!isset($_SESSION['admin-data'])) {
        header("location: ../login/index.html");
        exit();
    }
?>
            <?php if($adminData['admin_type'] == "Main Administrator"){
                $pwdData = getPWDData($connection, "");
                $seniorCitizenData = getSeniorCitizenData($connection, "");
                $soloParentData = getSoloParentData($connection, "");
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4">Dashboard</h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Persons With Disability&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-1" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="pwdDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($pwdData as $userPWDData):?>
                                        <tr>
                                            <td style="text-align: left;">
                                            <?php echo($userPWDData['FIRST_NAME']." ".$userPWDData['MIDDLE_NAME']." ".$userPWDData['LAST_NAME']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($userPWDData['BARANGAY']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($userPWDData['DATE_OF_BIRTH'])); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['DATE_UPDATED']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['MONTHLY_INCOME']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['STATUS']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Solo Parent&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-3" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="spDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($soloParentData as $user): ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php echo($user['FIRST_NAME']." ".$user['MIDDLE_NAME']." ".$user['LAST_NAME']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['BARANGAY']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['DATE_OF_BIRTH'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['DATE_UPDATED']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['MONTHLY_INCOME']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['STATUS']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Senior Citizen&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-2" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="scDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($seniorCitizenData as $user): ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php echo($user['FIRST_NAME']." ".$user['MIDDLE_NAME']." ".$user['LAST_NAME']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['BARANGAY']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['DATE_OF_BIRTH'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['DATE_UPDATED']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['STATUS']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>

            <?php if($adminData['admin_type'] == "PWD Administrator"){
                $pwdDataPerBarangay = getPWDPerBarangay($connection, $adminData['barangay']);
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4">Dashboard</h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Persons With Disability&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-1" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="pwdDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($pwdDataPerBarangay as $userPWDData): ?>
                                        <tr>
                                            <td style="text-align: left;">
                                            <?php echo($userPWDData['FIRST_NAME']." ".$userPWDData['MIDDLE_NAME']." ".$userPWDData['LAST_NAME']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($userPWDData['BARANGAY']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($userPWDData['DATE_OF_BIRTH'])); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['DATE_UPDATED']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['MONTHLY_INCOME']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['STATUS']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>
                <?php if($adminData['admin_type'] == "Solo Parent Administrator"){
                    $soloParentDataPerBarangay = getSoloParentPerBarangay($connection, $adminData['barangay']);
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Solo Parent&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-3" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="spDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($soloParentDataPerBarangay as $user): ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php echo($user['FIRST_NAME']." ".$user['MIDDLE_NAME']." ".$user['LAST_NAME']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['BARANGAY']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['DATE_OF_BIRTH'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['DATE_UPDATED']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['MONTHLY_INCOME']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['STATUS']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>
                <?php if($adminData['admin_type'] == "Senior Citizen Administrator"){
                    $seniorCitizenDataPerBarangay = getSeniorCitizenPerBarangay($connection, $adminData['barangay']);
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Senior Citizen&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-2" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="scDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($seniorCitizenDataPerBarangay as $user): ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php echo($user['FIRST_NAME']." ".$user['MIDDLE_NAME']." ".$user['LAST_NAME']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['BARANGAY']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['DATE_OF_BIRTH'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['DATE_UPDATED']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['STATUS']); ?></td>
                                        </tr>
                                        <?php endforeach;
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>
<?php
    include "footer.html";
?>