<?php 
    $page = "dashboard";
    require_once 'includes/functions.inc.php';
    include("header.html");
    if (!isset($_SESSION['admin-data'])) {
        header("location: index.html");
        exit();
    }
?>
            <?php if($adminData['admin_type'] == "Main Administrator"){
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4">Dashboard</h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Persons With Disability&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-1" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="pwdDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($pwdData as $userPWDData): $profilePic = getUserData($connection, 'media', 'username', $userPWDData['username']); ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php if(!empty($profilePic)) foreach($profilePic as $image): ?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="../uploads/<?php echo($image['image_location']); ?>">
                                                <?php endforeach; ?>
                                                <?php if(empty($profilePic)) {?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="assets/img/avatars/default profile picture.png">
                                                <?php } ?>
                                                <?php echo($userPWDData['pwd_first_name']." ".$userPWDData['pwd_middle_name']." ".$userPWDData['pwd_last_name']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($userPWDData['barangay']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($userPWDData['date_of_birth'])); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['application_date']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['income']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['status']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Solo Parent&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-3" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="spDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($soloParentData as $user): $profilePic = getUserData($connection, 'media', 'username', $user['username']); ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php if(!empty($profilePic)) foreach($profilePic as $image): ?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="../uploads/<?php echo($image['image_location']); ?>">
                                                <?php endforeach; ?>
                                                <?php if(empty($profilePic)) {?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="assets/img/avatars/default profile picture.png">
                                                <?php } ?>
                                                <?php echo($user['solo_parent_name']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['barangay']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['date_of_birth'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['date_applied']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['income']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['status']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Senior Citizen&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-2" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="scDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($srCitizenData as $user): $profilePic = getUserData($connection, 'media', 'username', $user['username']); ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php if(!empty($profilePic)) foreach($profilePic as $image): ?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="../uploads/<?php echo($image['image_location']); ?>">
                                                <?php endforeach; ?>
                                                <?php if(empty($profilePic)) {?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="assets/img/avatars/default profile picture.png">
                                                <?php } ?>
                                                <?php echo($user['sr_citizen_first_name']." ".$user['sr_citizen_middle_name']." ".$user['sr_citizen_last_name']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['barangay']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['date_of_birth'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['application_date']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['magkano']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['status']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>

            <?php if($adminData['admin_type'] == "PWD Administrator"){
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4">Dashboard</h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Persons With Disability&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-1" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="pwdDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($pwdData as $userPWDData): $profilePic = getUserData($connection, 'media', 'username', $userPWDData['username']); ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php if(!empty($profilePic)) foreach($profilePic as $image): ?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="../uploads/<?php echo($image['image_location']); ?>">
                                                <?php endforeach; ?>
                                                <?php if(empty($profilePic)) {?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="assets/img/avatars/default profile picture.png">
                                                <?php } ?>
                                                <?php echo($userPWDData['pwd_first_name']." ".$userPWDData['pwd_middle_name']." ".$userPWDData['pwd_last_name']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($userPWDData['barangay']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($userPWDData['date_of_birth'])); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['application_date']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['income']); ?></td>
                                            <td style="text-align: center;"><?php echo($userPWDData['status']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>
                <?php if($adminData['admin_type'] == "Solo Parent Administrator"){
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Solo Parent&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-3" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="spDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($soloParentData as $user): $profilePic = getUserData($connection, 'media', 'username', $user['username']); ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php if(!empty($profilePic)) foreach($profilePic as $image): ?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="../uploads/<?php echo($image['image_location']); ?>">
                                                <?php endforeach; ?>
                                                <?php if(empty($profilePic)) {?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="assets/img/avatars/default profile picture.png">
                                                <?php } ?>
                                                <?php echo($user['solo_parent_name']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['barangay']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['date_of_birth'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['date_applied']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['income']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['status']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>
                <?php if($adminData['admin_type'] == "Senior Citizen Administrator"){
                echo <<<HTML
                <div class="container-fluid">
                    <h3 class="text-dark mb-4"></h3>
                    <div class="card shadow">
                        <div class="card-header py-3">
                            <p class="text-primary m-0 fw-bold">Recent Registrants : Senior Citizen&nbsp;</p>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table mt-2" id="dataTable-2" role="grid" aria-describedby="dataTable_info">
                                <table class="table my-0" id="scDataTable">
                                    <thead>
                                        <tr>
                                            <th style="text-align: center;">Name</th>
                                            <th style="text-align: center;">Address</th>
                                            <th style="text-align: center;">Age</th>
                                            <th style="text-align: center;">Registration Date</th>
                                            <th style="text-align: center;">Income</th>
                                            <th style="text-align: center;">Status of Registration</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                HTML; ?>
                                        <?php foreach($srCitizenData as $user): $profilePic = getUserData($connection, 'media', 'username', $user['username']); ?>
                                        <tr>
                                            <td style="text-align: left;">
                                                <?php if(!empty($profilePic)) foreach($profilePic as $image): ?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="../uploads/<?php echo($image['image_location']); ?>">
                                                <?php endforeach; ?>
                                                <?php if(empty($profilePic)) {?>
                                                <img class="rounded-circle me-2" width="30" height="30" src="assets/img/avatars/default profile picture.png">
                                                <?php } ?>
                                                <?php echo($user['sr_citizen_first_name']." ".$user['sr_citizen_middle_name']." ".$user['sr_citizen_last_name']); ?></td>
                                            <td style="text-align: center;">Barangay <?php echo($user['barangay']); ?>&nbsp;</td>
                                            <td style="text-align: center;"><?php echo(ageCalculator($user['date_of_birth'])); ?></td>
                                            <td style="text-align: center;"><?php echo($user['application_date']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['magkano']); ?></td>
                                            <td style="text-align: center;"><?php echo($user['status']); ?></td>
                                        </tr>
                                        <?php endforeach; 
                echo <<<HTML
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                HTML; }
                ?>
<?php
    include "footer.html";
?>